(function(t){function e(e){for(var i,a,o=e[0],l=e[1],d=e[2],h=0,c=[];h<o.length;h++)a=o[h],Object.prototype.hasOwnProperty.call(r,a)&&r[a]&&c.push(r[a][0]),r[a]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(t[i]=l[i]);u&&u(e);while(c.length)c.shift()();return n.push.apply(n,d||[]),s()}function s(){for(var t,e=0;e<n.length;e++){for(var s=n[e],i=!0,o=1;o<s.length;o++){var l=s[o];0!==r[l]&&(i=!1)}i&&(n.splice(e--,1),t=a(a.s=s[0]))}return t}var i={},r={app:0},n=[];function a(e){if(i[e])return i[e].exports;var s=i[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,a),s.l=!0,s.exports}a.m=t,a.c=i,a.d=function(t,e,s){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(a.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)a.d(s,i,function(e){return t[e]}.bind(null,i));return s},a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=e,o=o.slice();for(var d=0;d<o.length;d++)e(o[d]);var u=l;n.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"56d7":function(t,e,s){"use strict";s.r(e);var i=s("2b0e"),r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("container",{attrs:{questionData:t.data}})},n=[],a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"question-card"},[s("div",{staticClass:"question-card-body"},[t._l(t.answers,(function(e,i){return s("div",{key:i,staticClass:"leftSide"},[s("draggable-slot",{attrs:{"items-to-disable":t.idsToDisable,item:e,groupName:t.questionGroup+i.toString(),groupPut:t.choicesPut,addGroupName:!0,onAddAction:t.replace,id:t.choicesIds[i],toHide:t.toHide,dragStarted:t.dragStarted,choiceToHighlight:t.choiceToHighlight},on:{"update:itemsToDisable":function(e){t.idsToDisable=e},"update:items-to-disable":function(e){t.idsToDisable=e},end:function(e){return t.clearFlags(!0)},start:t.startDrag}})],1)})),t._l(t.lists,(function(e,i,r){return s("div",{key:"list-"+i,staticClass:"rightSide",style:{gridRow:r+1}},[s("draggable-slot",{attrs:{id:i,onAddAction:t.replace,item:t.lists[i][0],groupPut:t.answersPut,toHide:t.toHide,dragStarted:t.dragStarted,isYourAnswer:!0},on:{end:function(e){return t.clearFlags(!0)},remove:t.handleRemove,start:t.startDrag}})],1)}))],2)])])},o=[],l=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"simple-row"},[s("div",{staticClass:"board",style:t.getRowStyle,attrs:{id:t.id},on:{mouseup:function(e){return t.setMoving(!1)},mousedown:t.setMoving,click:function(e){return t.fakeDoubleClick(t.item,e)}}},[s("draggable-item",{ref:t.id,class:t.dragAreaClass,attrs:{id:t.id,list:t.list,disabledClass:"rowDisabled",containerClass:"card",draggingClass:"draggedItem",parentContainerClass:"questionCard",additionalTransition:"rotate(3deg)",item:t.item,answerSlot:t.isYourAnswer,group:t.group},on:{start:t.onStart,change:t.onChange,end:t.onEnd}},t._l(t.list,(function(e,i){return s("div",{key:i,staticStyle:{"pointer-events":"none"},attrs:{id:t.id}},[s("div",{staticClass:"row align-items-center text-container"},[t._t("default"),s("div",{staticClass:"col-sm-12 col-md-9 text-center d-table pl-md-1 pl-lg-0"},[t.isClicked?s("div",{staticClass:"d-table-cell align-middle"},[s("i",{staticClass:"fad fa-times",staticStyle:{color:"#f27b79","font-size":"40px"}}),s("p",{staticStyle:{"font-size":"10px","margin-bottom":"0"}},[t._v("click again to remove")])]):s("div",{staticClass:"d-table-cell align-middle"},[t._v(t._s(e.text))])])],2)])})),0)],1)])},d=[],u={name:"draggable-slot",props:{isYourAnswer:{type:Boolean,default:!1},isShowingClose:{type:Boolean,default:!1},dragStarted:{type:Boolean,default:null},itemsToDisable:{type:Array,default:()=>{return[]}},groupName:{type:String,default:null},groupPut:{type:[Function,String]},item:{type:Object,default:()=>{return null}},id:{type:String},addGroupName:{type:Boolean,default:!1},onAddAction:{type:Function,default:()=>{}},toHide:{type:Array,default:()=>{return[]}},choiceToHighlight:{type:String,default:null}},data(){return{list:[],isMoving:!1,isClicked:!1}},computed:{canViewCloseButton(){return this.isYourAnswer},isIOS(){return!!navigator.platform&&/iPad|iPhone|iPod/.test(navigator.platform)},isDisabled(){return null!==this.item&&this.itemsToDisable.includes(this.item.order)},group(){return null!==this.item?{name:this.groupName?this.groupName:this.item.groupName,put:this.groupPut}:{put:this.groupPut}},hideContent(){return this.toHide.includes(this.id)},isAnswer(){return this.isYourAnswer},isDragArea(){return null!==this.item&&this.choiceToHighlight===this.item.groupName||this.isAnswer&&this.dragStarted},dragAreaClass(){return(this.isDragArea?"dragArea":null)||(this.isDisabled?"rowDisabled":null)},getRowStyle(){let t={};return 0===this.list.length||this.isDisabled||(this.isMoving?t.cursor=["pointer","-webkit-grabbing","-moz-grabbing","grabbing"]:t.cursor=["move","-webkit-grab","-moz-grab","grab"]),t}},watch:{isShowingClose(t,e){this.isClicked=!1},item:{handler(t,e){this.addTextToArray()}},deep:!0},mounted(){this.addTextToArray()},methods:{removeAnswer(t,e){let s={removed:{element:t,oldIndex:0}};this.onChange(s)},fakeDoubleClick(t,e){this.canViewCloseButton&&(this.isClicked&&this.removeAnswer(t,e),this.$emit("fake"),setTimeout(()=>this.isClicked=!this.isClicked,10),setTimeout(()=>this.isClicked=!1,3e3))},addTextToArray(){this.list.splice(0,this.list.length),null!==this.item&&(this.addGroupName&&(this.item.groupName=this.groupName),this.list.push(this.item))},onEnd(t){this.isMoving=!1,this.$emit("end")},onChange(t){if(Object.keys(t).includes("added")){t.added.element=this.item;let e=t.added.newIndex,s=t.added.element,i=this.list[0===e?1:0];this.list.splice(0===e?1:0,1),this.onAddAction(s,i,t.added.to),this.isClicked&&(this.isClicked=!1)}else Object.keys(t).includes("removed")&&(t.removed.element=this.item,this.isClicked&&(this.isClicked=!1),this.$emit("remove",t.removed.element,this.id))},onStart(t){this.$emit("start",t)},onMove(t){this.$emit("move",t)},setMoving(t=!0){this.isMoving=t},addTextToArray(){this.list.splice(0,this.list.length),null!==this.item&&(this.addGroupName&&(this.item.groupName=this.groupName),this.list.push(this.item))},deleteAnswer:t=>{let e=t.target.id,s=document.getElementById(e.replace("card","answer"));s.appendChild(t.target)},changeOpacity:t=>{t.target.classList.remove("draggedItem");const e=t.dataTransfer.getData("card_id"),s=document.getElementById(e);t.srcElement.offsetParent.classList.remove("questionCard"),s.style.opacity="1"}}},h=u,c=s("2877"),g=Object(c["a"])(h,l,d,!1,null,null,null),p=g.exports,m={name:"container",props:{questionData:{type:Object,required:!0}},components:{draggableSlot:p},data(){return{answers:{},lists:{},draggedFrom:null,toHide:[],componentsAreReady:!0,answerGroups:[],questionGroup:"",dragStarted:!1,choiceToHighlight:null}},created(){this.answers=this.questionData.answers.sort((t,e)=>t.order>e.order?1:-1),this.questionGroup=this.generateGroup();for(let t=0;t<this.questionData.answers.length;t++)this.answerGroups.push(t.toString());this.lists=Object.assign({},this.answerData.lists,!0),this.sendDataToParent()},methods:{fillWithAnswers(t){let e=this.questionData.answers.map(t=>{return t});for(let s of Object.keys(this.lists)){let i=e.find(e=>{return t[s].order?e.order===parseInt(t[s].order):e.singleValue===t[s].singleValue});this.lists[s].push(i)}},choicesPut(t,e){return t.options.group.name===e.options.group.name},answersPut(t,e){return e.options.group.name.includes(this.questionGroup)||this.isAnswerIds(e.options.group.name)},replace(t,e,s){void 0===e||this.choicesIds.includes(this.draggedFrom)||this.replaceBetweenAnswers(e),this.lists[s].splice(0,this.lists[s].length),this.lists[s].push(t),this.sendDataToParent()},sendDataToParent(){let t={};Object.keys(this.lists).forEach(e=>{t[e]=this.lists[e]}),this.$emit("input",t)},replaceBetweenAnswers(t){this.componentsAreReady=!1;let e=this.lists[this.draggedFrom].findIndex(e=>e.id!==t);this.lists[this.draggedFrom].splice(e,1),this.lists[this.draggedFrom].push(t),this.$nextTick(()=>{this.componentsAreReady=!0})},clearAll(){for(let t in this.lists)this.lists[t].splice(0,this.lists[t].length);this.isShowingClose=!1,this.clearFlags()},clearFlags(t=!1){this.draggedFrom=null,this.draggedTo=null,this.toHide=[],t&&(this.dragStarted=!1,this.choiceToHighlight=null)},startDrag(t){this.dragStarted=!0;let e=t.from.id;this.draggedFrom=e,this.isAnswerIds(e)&&(this.choiceToHighlight=this.lists[e][0].groupName)},isAnswerIds(t){return Object.keys(this.lists).includes(t)},handleRemove(t,e){let s=this.lists[e].findIndex(e=>e.order===t.order);s>-1&&this.lists[e].splice(s,1)},generateGroup(t=6){let e="",s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(var i=0;i<t;i++)e+=s.charAt(Math.floor(Math.random()*s.length));return e},refreshGroupNames(){for(let t=0;t<this.answerGroups.length;t++){let e=!1;for(let s in this.lists){let i=s,r=this.questionGroup+t;this.lists[i].findIndex(t=>t.groupName===r)>-1&&(this.answerGroups[t]=r,e=!0),e||(this.answerGroups[t]=t.toString())}}}},computed:{idsToDisable(){let t=[];for(let e in this.lists)this.lists[e].map(e=>{t.push(e.order)});return t},answerData(){return{lists:{first:[],second:[]}}},choicesIds(){let t=[];for(let e=0;e<this.questionData.answers.length;e++)t.push(this.questionGroup+e.toString());return t}},watch:{lists:{handler(t){this.refreshGroupNames()},deep:!0},questionData(){this.answers=this.questionData.answers.sort((t,e)=>t.order>e.order?1:-1)}}},f=m,b=Object(c["a"])(f,a,o,!1,null,null,null),w=b.exports,v={name:"app",data(){return{data:{answers:[{text:"Option 1",order:1,groupName:""},{text:"Option 2",order:2,groupName:""},{text:"Option 3",order:3,groupName:""},{text:"Option 4",order:4,groupName:""}]}}},components:{Container:w}},y=v,C=Object(c["a"])(y,r,n,!1,null,null,null),A=C.exports;s("8831"),s("1d01");i["default"].config.productionTip=!1,new i["default"]({render:function(t){return t(A)}}).$mount("#app")},8831:function(t,e,s){}});
//# sourceMappingURL=app.7c28d411.js.map